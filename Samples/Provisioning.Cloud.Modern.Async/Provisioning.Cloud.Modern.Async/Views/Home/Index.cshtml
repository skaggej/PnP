@model Provisioning.Cloud.Modern.Async.Models.IndexViewModel
@{
    ViewBag.Title = "Create a \"modern\" site";
}

@using (Html.BeginForm("Create", "Home", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    @Html.HiddenFor(model => model.CurrentUserPrincipalName)
    @Html.HiddenFor(model => model.Classifications)

    <div class="inputForm">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="ms-Grid">

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.SiteType, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.SiteTitle, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.SiteAlias, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.SiteDescription, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row" id="isPublicField">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.IsPublic, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.AsyncTech, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    @Html.EditorFor(model => model.PnPTemplate, new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                &nbsp;
                </div>
            </div>

            <div class="ms-Grid-row">
                <div class="ms-Grid-col ms-u-sm12 ms-u-md12 ms-u-lg12">
                    <button class="ms-Button ms-Button--primary CreateSite">
                        <span class="ms-Button-icon"><i class="ms-Icon ms-Icon--plus"></i></span>
                        <span class="ms-Button-label">Create</span>
                        <span class="ms-Button-description">Create the "modern" site</span>
                    </button>
                </div>
            </div>

        </div>

    </div>

}

@section Scripts {
<script>
    $(function () {

        $(document).on("change", "#@Html.IdFor(m => m.SiteType)", function () {
            var siteType = $("#@Html.IdFor(m => m.SiteType)").val();
            if (siteType == "0") {
                $("#isPublicField").show();
            }
            else {
                $("#isPublicField").hide();
            }
        });

    });
</script>
}

<img src="https://telemetry.sharepointpnp.com/PnP/samples/Provisioning.Cloud.Modern.Async/Home/Index" />
